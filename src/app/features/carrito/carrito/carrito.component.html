<div class="container my-5">

  <h2 class="text-center mb-4 fw-bold">Carrito de compras</h2>

  <!-- Carrito vacío -->
  <div *ngIf="items.length === 0" class="text-center">

    <i class="bi bi-cart-x fs-1 text-secondary"></i>
    <p class="mt-3 fs-5">Tu carrito está vacío</p>

    <a routerLink="/" class="btn btn-primary mt-2">
      Volver a la tienda
    </a>

  </div>

  <!-- Tabla carrito -->
  <div *ngIf="items.length > 0" class="table-responsive">

    <table class="table align-middle">

      <thead class="table-dark">
        <tr>
          <th>Producto</th>
          <th>Precio</th>
          <th>Cantidad</th>
          <th>Subtotal</th>
          <th>Eliminar</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let item of items">
          <td>{{ item.producto.nombre }}</td>
          <td>${{ item.producto.precio }}</td>
          <td>{{ item.cantidad }}</td>
          <td class="fw-bold text-success">${{ item.subtotal }}</td>

          <td>
            <button class="btn btn-sm btn-outline-danger"
                    (click)="eliminar(item.producto.idProducto)">
              <i class="bi bi-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>

    </table>

    <!-- Total -->
    <div class="d-flex justify-content-end mt-3">
      <h5>Total:
        <span class="text-success fw-bold">
           <p><b>Total a pagar:</b> ${{ totalp }}</p>
        </span>
      </h5>
    </div>

<!-- Botones acción -->
<div class="d-flex justify-content-end gap-2 mt-3">

  <!-- Cancelar -->
  <a routerLink="/home" class="btn btn-outline-secondary btn-lg">
    Cancelar
  </a>

  <!-- Proceder al pago -->
  <button class="btn btn-success btn-lg"
          (click)="irACheckout()">
    Proceder al pago
  </button>

</div>

  </div>

</div>
